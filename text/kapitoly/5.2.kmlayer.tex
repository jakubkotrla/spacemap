\section{KM Layer}


Vìtšina modelù pamìti, zmínìnıch v tøetí kapitole, vyuívá samoorganizující Kohonenovy mapy [literatura]. 

Jak funguje KM ???

Kohonenova mapa by mìla splòovat naše poadavky. Umí rozmístit uzly do hustoty odpovídající rozmístìní pøedmìtù v prostoru. Umí se uèit online, kadı vjem agenta je moné chápat jako prvek trénovací mnoiny dat. Jeví se tedy jako ideální. Navrhli jsme tedy model Node Layer zaloenı na Kohonenovì mapì - KM Layer.

Na zaèátku je prostor pokryt Kohonenovou mapou -  ètvercovou sítí. - OBR
Pokadé, kdy je vjem, pøedán KM Layer, provede se trénování Kohonenovy mapy.

1. Urèení vyhrávajícího uzlu (tedy nejblišího k poloze vjemu)
2. Vloení uzlu do fronty
3. While neprázdná fronta:
	a. Natrénování uzlu dle vzorce KM
	b. Pøidání jeho sousedù do fronty (pokud nebyly ješte v tomto kroku trénováni)

Tímto algoritmem se uzly KM Layer v prùbìhu uèení/vnímání pøibliují k objektùm. 

Problém, které by mohl nastat je, e se sí pro naše potøeby "pøeuèí" -  uzly se èasem všechny pøesunou k pøedmìtùm a prostor bez pøedmìtù zùstane prázdnı, bez uzlù. Navrhli jsem dvì moná øešení:
• Base objects - pøidání umìlıch objektù, které se budou snait dret pùvodní rozloení  uzlù KM
• Odpudivost uzlù - uzly mapy se budou vzájemnì odpuzovat, aby se nenahromadily všechny na jedno místo

Vıše zmínìná øešení jsme vyzkoušeli v jednoduché ètvercové místnosti.  OBR

Base objects
Toto øešení pøidává do svìta umìlé pøedmìty, tzv. base objects. Tyto umìlé pøedmìty musí mít niší atraktivitu ne reálné pøedmìty, aby je nepøebily a mapa se mohla nìco nauèit.

Base objects jsou do svìta pøidány na zaèátku, pøi vytváøení ètvercové sítì. V kadém místì, kde je uzel sítì, je vytvoøen jeden base object. Agent je bude vnímat stejnì jako ostatní pøedmìty, v prùbìhu simulace budou k sobì pøitahovat uzly sítì stejnì jako reálné pøedmìty. Tím by mìly udret kohonenovu mapu roztaenou i v místech, kde reálné pøedmìty nejsou.

Vısledek testu OBR.

V pøípadì base objects se ukázalo, e øešení nevyhovuje. Mapa se stahuje do støedu místnosti bez ohledu na vliv base objects. 

Odpudivost
Do modelu jsme pøidali odpudivost uzlù sítì. V kadém kroku simulace se uzly, které jsou pøíliš blízko u sebe, odpuzují.
V kadém kroku simulace je proveden proces ref. Vzájemná odpudivost dvou uzlù závisí na jejich vzdálenosti a jejich naplnìnosti.

Naplnìnost uzlu je souèet intenzit všech jeho vazeb na pamìové stopy. Pøedstavuje míru dùleitosti uzlu pro pamì na pøedmìty. Èím více pamìovıch stop vyuívá uzel a èím intenzivnìjší jsou, tím ménì by se mìla mìnit jeho poloha. Uzel s vysokou naplnìností bude v místì, kde je hodnì pøedmìtù. V takovıch místech by hustota uzlù mìla bıt vìtší a proto je nutné, aby v takovıch místech byla vzájemná odpudivost uzlù menší.

vvvzorec

Naplnìnost uzlu lze pøi urèování vzájemné odpudivosti chápat jako analogii k hmotnosti tìles, s tím rozdílem, e odpudivost dvou uzlù je nepøímo úmìrná souèinu jejich naplnìností. Odpudivost je dána vzorcem vvvzorec. V kadém kroku simulace je spoètena vzájemná odpudivost uzlù. Tím jsou urèeny všechny odpudivé síly, které na uzly pùsobí. Poloha uzlù je pak upravena dle tìchto sil.

Vzdálenost uzlù je moné mìøit dvìma zpùsoby: jejich vzdáleností ve virtuálním svìtì èi jejich vzdáleností v kohonenovì mapì. Smìr odpuzujících sil je v obou pøípadech  urèen z jejich vzájemné polohy.

Vısledke testù - OBR

V obou pøípadech dojde k deformaci mapy do stavu, kdy její následující uèení nedává smysl. Sí se pøekroutí tak, e uzly, které jsou ve virtuálním svìtì vedle sebe, jsou v síti daleko a obrácenì.

??? Podrobnìji vysvìlit ??? , vıøez z obrázku vısledku

Døíve zmínìnı problém pøeuèení skuteènì nastal a dvì velmi rozdílná øešení jej nedokázala uspokojivì vyøešit. Model zaloenı na Kohonenovì mapì jsme tedy zamítli.
